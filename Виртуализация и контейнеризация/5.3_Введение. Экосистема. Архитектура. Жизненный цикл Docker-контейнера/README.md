# 5.3 «Введение. Экосистема. Архитектура. Жизненный цикл Docker-контейнера» - Абрамов Евгений

## Задача 1

<https://hub.docker.com/r/evgeniyabramov/nginx_test_netology>

## Задание 2

1. **Высоконагруженное монолитное Java веб-приложение:**

   - **Виртуальные машины**: Для высоконагруженных Java-приложений могут быть предпочтительными виртуальные машины, так как они обеспечивают изоляцию и выделенные ресурсы.
   - **Docker-контейнеры**: Docker можно использовать для упаковки и развертывания Java-приложений, но в случае высокой нагрузки, виртуальные машины могут предоставить более предсказуемые и управляемые ресурсы.

2. **Node.js веб-приложение:**

   - **Docker-контейнеры**: Docker идеально подходит для развертывания Node.js-приложений, так как контейнеры легковесны и масштабируемы.

3. **Мобильное приложение с версиями для Android и iOS:**

   - Мобильные приложения не разворачиваются на Docker-контейнерах, виртуальных машинах или физических машинах. Они устанавливаются на мобильных устройствах.

4. **Шина данных на базе Apache Kafka:**

   - **Docker-контейнеры**: Kafka может быть развернута в контейнерах, что упрощает масштабирование и управление.

5. **Elasticsearch-кластер для логирования:**

   - **Docker-контейнеры**: Elasticsearch, Logstash и Kibana могут быть развёрнуты в контейнерах, но требуют значительных ресурсов. В высоконагруженных средах, возможно, лучше использовать виртуальные машины.

6. **Мониторинг-стек на базе Prometheus и Grafana:**

   - **Docker-контейнеры**: Prometheus и Grafana хорошо работают в контейнерах, так как они легковесны и масштабируемы.

7. **MongoDB как основное хранилище данных для Java-приложения:**

   - **Виртуальные машины**: MongoDB лучше всего разворачивать на виртуальных машинах или физических машинах для обеспечения высокой производительности и надежности.

8. **Gitlab-сервер и Docker Registry:**

   - **Gitlab-сервер** может быть развёрнут в контейнерах или на виртуальных машинах в зависимости от нагрузки и требований к изоляции.
   - **Docker Registry** также может быть развернут в контейнерах или на виртуальных машинах, и важно обеспечить безопасность и доступность реестра.

### Задание 3

- Запустите первый контейнер из образа centos c любым тегом в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера.
- Подключитесь к первому контейнеру с помощью docker exec и создайте текстовый файл любого содержания в /data.

```bash
vagrant@server1:~$ docker run -it -v $(pwd)/data:/data --name centos centos:latest
[root@db65157c4d80 /]# echo "First file in centos" > /data/first_file.txt 
```

- Добавьте ещё один файл в папку /data на хостовой машине.

```bash
vagrant@server1:~$ echo "Second file in host" > ./data/second.txt
```

- Запустите второй контейнер из образа debian в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера.
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /data контейнера.

```bash
vagrant@server1:~$ docker run -it -v $(pwd)/data:/data --name debian debian:latest
root@4cf36a6a5c6e:/# ls -la data/
total 16
drwxr-xr-x 2 1000 1000 4096 Sep 21 10:54 .
drwxr-xr-x 1 root root 4096 Sep 21 10:53 ..
-rw-r--r-- 1 root root   21 Sep 21 10:53 first_file.txt
-rw-r--r-- 1 1000 1000   20 Sep 21 10:38 second.txt
root@4cf36a6a5c6e:/# cat data/first_file.txt 
First file in centos
root@4cf36a6a5c6e:/# cat data/second.txt        
Second file in host
```
