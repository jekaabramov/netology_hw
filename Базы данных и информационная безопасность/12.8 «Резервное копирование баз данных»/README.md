# 12.8 «Резервное копирование баз данных» - Абрамов Евгений

### Задание 1

1.1 Восстановление данных в полном объеме за предыдущий день:
Для данного случая рекомендуется использовать ежедневное полное резервное копирование данных. Этот метод предполагает создание полной копии всех данных базы данных в конце каждого дня. При возникновении сбоя или потери данных вы можете использовать последнюю полную копию, чтобы восстановить данные в полном объеме за предыдущий день.

1.2 Восстановление данных за час до предполагаемой поломки:
Для данного случая рекомендуется комбинированный подход, использующий регулярные полные и инкрементальные резервные копии данных. В этом случае вы можете создавать полные копии базы данных каждый день, а также делать инкрементальные копии каждый час или с интервалом, установленным в час. Инкрементальные копии содержат только изменения, произошедшие с момента последнего полного или инкрементального бэкапа. Если происходит сбой или потеря данных, вы можете использовать последний полный бэкап, а затем применить последовательность инкрементальных бэкапов, чтобы восстановить данные на момент, за час до предполагаемой поломки.

1.3 Да, возможен кейс, когда при поломке базы данных происходит моментальное переключение на работающую или восстановленную базу данных. Этот подход называется "файлообменным" (file swapping) или "переключением баз данных" (database failover).

В таком сценарии используются две или более базы данных, работающие в режиме горячего резервирования (hot standby). Одна база данных является основной (primary), а другая — резервной (secondary). Обе базы данных постоянно синхронизируются, чтобы быть в актуальном состоянии.

Если происходит поломка базы данных или ее недоступность, система автоматически переключается на резервную базу данных. Это может быть достигнуто с помощью различных технологий и механизмов, таких как репликация данных, кластеризация баз данных или использование высокодоступных решений (high availability solutions) вроде группы доступности (availability group) в Microsoft SQL Server или кластера PostgreSQL.

После устранения проблемы с основной базой данных и ее восстановления, система может снова переключиться на основную базу данных, восстановив непрерывную работу с минимальным простоем.

### Задание 2

Команды ```pg_dump``` и ```pg_restore``` используются в PostgreSQL для резервного копирования и восстановления базы данных соответственно:

```pg_dump -U myuser -d mydatabase -f backup.sql```

```pg_restore -U myuser -d mydatabase backup.sql```

### Задание 3

Для инкрементного резервного копирования базы данных MySQL можно использовать утилиту mysqldump с опцией ```--single-transaction```:

```mysqldump --single-transaction --user=myuser --password=mypassword --databases mydatabase > backup.sql```
